(function(){angular.module("tecApp",["ngRoute"]);e.$inject=["$routeProvider","$locationProvider"];function e(e,t){e.when("/",{templateUrl:"home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).when("/history",{templateUrl:"history/history.view.html",controller:"historyCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"});t.html5Mode({enabled:true,requireBase:false})}angular.module("tecApp").config(["$routeProvider","$locationProvider",e])})();(function(){angular.module("tecApp").controller("homeCtrl",e);e.$inject=["tecData","taxCalculator"];function e(e,i){var l=this;l.pageHeader={title:"Tax Estimation Calculator",strapline:"Use this simple calculator to find out your estimated tax and net from a given income."};e.getTaxRateList().then(function e(t){var r=t.data;if(r.length>0){l.yearSeletorOptions=r;l.formData={year:r[0]}}},function e(t){console.log("Something went wrong when getting taxRates into year selector.")});l.annualResult={gross:0,net:0,sup:0,netPlusSup:0,grossPlusSup:0,tax:0};l.onSubmit=function(){var e,t,r,o;var n,a,s,u;n=a=s=u=0;l.formError="";try{if(!l.formData.gross){e=0}else{e=parseInt(l.formData.gross);if(!e){throw"Gross field must be a number"}else if(e<0){throw"Gross field must large than zero"}}if(!l.formData.grossPlusSup){t=0}else{t=parseInt(l.formData.grossPlusSup);if(!t){throw"Gross + sup field must be a number"}else if(t<0){throw"Gross + sup field must large than zero"}}if(!l.formData.supRate){r=0}else{r=parseInt(l.formData.supRate);if(!r){throw"Sup rate field must be a number"}else if(r<0||r>100){throw"Sup rate must between 0 to 100"}}if(!(o=l.formData.year)){throw"Tax rate field is empty"}if(l.formData.gross&&l.formData.grossPlusSup&&e>t){throw"Gross field should less than gross + sup field"}e=i.getGross(e,t,r);a=i.getSup(e,t,r);t=i.getGrossPlusSup(t,e,a);s=i.getTax(e,o);n=i.getNet(e,s);u=i.getNetPlusSup(n,a);l.annualResult={gross:e,net:n,sup:a,netPlusSup:u,grossPlusSup:t,tax:s}}catch(e){l.formError=e}}}})();(function(){angular.module("tecApp").controller("historyCtrl",e);function e(){function e(e,t){var r=[];for(var o=0,n=-1;o<e.length;o++){var a=o%t;if(a==0){r[++n]=[]}r[n][a]=e[o]}return r}var t=this;var r=[{time:"2018/03/06",net:1e3,sup:1e3,netPlusSup:1e3,gross:1e3,grossPlusSup:1e3,tax:1e3},{time:"2018/03/06",net:1e3,sup:1e3,netPlusSup:1e3,gross:1e3,grossPlusSup:1e3,tax:1e3},{time:"2018/03/06",net:1e3,sup:1e3,netPlusSup:1e3,gross:1e3,grossPlusSup:1e3,tax:1e3},{time:"2018/03/06",net:1e3,sup:1e3,netPlusSup:1e3,gross:1e3,grossPlusSup:1e3,tax:1e3},{time:"2018/03/06",net:1e3,sup:1e3,netPlusSup:1e3,gross:1e3,grossPlusSup:1e3,tax:1e3}];t.historyMatrix=e(r,2)}})();(function(){angular.module("tecApp").directive("navigation",e);function e(){return{restrict:"EA",templateUrl:"/common/directives/navigation/navigation.template.html"}}})();(function(){angular.module("tecApp").directive("pageHeader",e);function e(){return{restrict:"EA",scope:{content:"=content"},templateUrl:"/common/directives/pageHeader/pageHeader.template.html"}}})();(function(){angular.module("tecApp").directive("footerGeneric",e);function e(){return{restrict:"EA",templateUrl:"/common/directives/footerGeneric/footerGeneric.template.html"}}})();(function(){angular.module("tecApp").service("tecData",e);e.$inject=["$http"];function e(e){var t=function(){return e.get("/api/taxRates")};return{getTaxRateList:t}}})();(function(){angular.module("tecApp").service("taxCalculator",e);function e(){var e=function(e,t){return e-t};var n=function(e,t,r){var o=0;if(e&&r){o=e*r/100}else if(e&&t){o=t-e}else if(t&&r){o=t*r/(100+r)}return o};var t=function(e,t){return e+t};var r=function(e,t,r){var o;if(e){o=e}else if(t&&r){o=t-n(e,t,r)}else{o=0}return o};var o=function(e,t,r){var o;if(e){o=e}else{o=t+r}return o};var a=function(e,t){var r=null;var o=t.taxRanges;for(var n=0;n<o.length;n++){if(e<o[n].to||o[n].to==-1){r=o[n];break}}return(e-r.over)*r.percentage/100+r.amount};return{getNet:e,getSup:n,getNetPlusSup:t,getGross:r,getGrossPlusSup:o,getTax:a}}})();(function(){angular.module("tecApp").filter("formatFloat",e);function e(){return function(e,t){return e.toFixed(t)}}})();